function checkCookies(){document.cookie="COOKIE_ACCEPT=1;path='/';expires:"+new Date((new Date).getTime()+31536e6).toUTCString(),document.getElementById("cookie").remove()}document.addEventListener("DOMContentLoaded",(()=>{new Swiper(".product__slider-init",{slidesPerView:2,spaceBetween:10,speed:600,mousewheel:{forceToAxis:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{521:{slidesPerView:2,spaceBetween:20},769:{slidesPerView:3,spaceBetween:30}}});var e,t,n=new Swiper(".values__thumbs-init",{spaceBetween:30,speed:600,loop:!0,watchSlidesProgress:!0,grabCursor:!1,mousewheel:!1,pagination:{el:".swiper-pagination",type:"fraction"},on:{touchEnd:function(e,t){let n=e.touches.diff=e.isHorizontal()?e.touches.currentX-e.touches.startX:e.touches.currentY-e.touches.startY;(n<5||n>-5)&&(e.allowClick=!0)}}}),s=new Swiper(".values__slider-init",{spaceBetween:30,speed:600,loop:!0,grabCursor:!0,mousewheel:{forceToAxis:!0},navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}});n.controller.control=s,s.controller.control=n,function(){const e=document.querySelectorAll(".work__item"),t=document.getElementsByClassName("work__item-active"),n=document.getElementsByClassName("re-prev"),s=document.getElementsByClassName("prev"),o=document.getElementsByClassName("next"),r=document.getElementsByClassName("re-next");e.forEach((a=>{a!==e[0]&&(a.addEventListener("mouseover",(function(){t.length>0&&t[0]!==this&&t[0].classList.remove("work__item-active"),n.length>0&&n[0].classList.remove("re-prev"),s.length>0&&s[0].classList.remove("prev"),o.length>0&&o[0].classList.remove("next"),r.length>0&&r[0].classList.remove("re-next"),this.classList.add("work__item-active");var e=this.previousElementSibling,a=this.nextElementSibling;this.previousElementSibling&&(this.previousElementSibling.classList.add("prev"),e.previousElementSibling&&e.previousElementSibling.classList.add("re-prev")),this.nextElementSibling&&(this.nextElementSibling.classList.add("next"),a.nextElementSibling&&a.nextElementSibling.classList.add("re-next"))})),a.addEventListener("mouseout",(function(){n.length>0&&n[0].classList.remove("re-prev"),s.length>0&&s[0].classList.remove("prev"),o.length>0&&o[0].classList.remove("next"),r.length>0&&r[0].classList.remove("re-next"),e[0].classList.add("work__item-active"),this.classList.remove("work__item-active"),e[0].nextElementSibling&&(e[0].nextElementSibling.classList.add("next"),e[1].nextElementSibling.classList.add("re-next"))})))}))}(),e=document.querySelectorAll(".accordion"),t=document.getElementsByClassName("active"),Array.from(e).forEach((function(e,n,s){e.addEventListener("click",(function(e){if(t.length>0&&t[0]!==this&&t[0].classList.remove("active"),this.classList.toggle("active"),console.log("ass"),document.getElementById("menu")){const e=document.getElementById("menu");e.querySelector(".active")?e.classList.add("menu-active"):e.classList.remove("menu-active")}}))})),function(){if(document.querySelector(".modal__btn")){var e=document.querySelectorAll(".modal__close-btn"),t=document.querySelectorAll(".modal__btn");Array.from(t,(t=>{t.addEventListener("click",(t=>{let n=document.getElementsByClassName("open");n.length>0&&n[0]!==this&&n[0].classList.remove("open");let s=t.target.getAttribute("data-id");s&&(document.getElementById(s).classList.add("open"),document.body.classList.add("no-scroll"),Array.from(e,(e=>{e.addEventListener("click",(e=>{document.getElementById(s).classList.remove("open"),document.body.classList.remove("no-scroll")})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&(document.getElementById(s).classList.remove("open"),document.body.classList.remove("no-scroll"))})),document.querySelector(".modal.open .modal__box").addEventListener("click",(e=>{e._isClickWithInModal=!0})),document.getElementById(s).addEventListener("click",(e=>{e._isClickWithInModal||(e.currentTarget.classList.remove("open"),document.body.classList.remove("no-scroll"))}))})))}))}))}}(),function(){const e=document.getElementById("burger"),t=document.getElementById("menu"),n=document.querySelector(".menu__close"),s=document.querySelector(".menu__overlay"),o=()=>{e.classList.remove("burger--opened"),t.classList.remove("menu--opened");const n=t.getElementsByClassName("active");n.length>0&&n[0]!==this&&n[0].classList.remove("active"),t.classList.remove("menu-active"),u.start()};e.addEventListener("click",(()=>{const n=e.classList.toggle("burger--opened");t.classList.toggle("menu--opened",n),u.stop()})),[n,s].forEach((e=>e.addEventListener("click",o))),document.addEventListener("click",(n=>{t.contains(n.target)||e.contains(n.target)||o()})),document.querySelectorAll(".menu__list a").forEach((e=>e.addEventListener("click",o)))}();const o=document.querySelector(".numbs");if(o){function r(e,t=2e3){let n=0;const s=Number(e.dataset.val);let r=setInterval((()=>{n<s?n+=s/(t/10):clearInterval(r),n<s?n+=s/(t/10):o.classList.add("active"),e.classList.contains("frac")?e.innerHTML=new Intl.NumberFormat("ru-RU").format(n.toFixed(1)):e.innerHTML=new Intl.NumberFormat("ru-RU").format(Math.round(n))}),10)}document.querySelectorAll(".numbs").forEach((e=>{e.querySelectorAll(".number").forEach((t=>{gsap.to(t,{scrollTrigger:{trigger:e,start:"top 80%"},onStart:()=>r(t)})}))}))}const a=document.getElementById("search__btn");a&&a.addEventListener("click",(function(){a.parentNode.classList.toggle("search--show"),window.addEventListener("keydown",(e=>{"Escape"===e.key&&a.parentNode.classList.remove("search--show")})),document.addEventListener("click",(e=>{e.composedPath().includes(a.parentNode)||a.parentNode.classList.remove("search--show")}))})),document.querySelectorAll(".tabs").forEach((e=>{e.addEventListener("click",(t=>{const n=t.target.closest(".tabs__btn");if(!n||!e.contains(n))return;t.stopPropagation();const s=n.closest(".tabs");if(!s)return;const o=Array.from(s.querySelectorAll(".tabs__btn")),r=Array.from(s.querySelectorAll(".tabs__panel")),a=Array.from(s.querySelectorAll(".tabs__filter"));o.forEach((e=>{e.closest(".tabs")===s&&e.classList.remove("tabs__btn--active")})),r.forEach((e=>{e.closest(".tabs")===s&&e.classList.remove("tabs__panel--active")})),a.forEach((e=>{e.closest(".tabs")===s&&(e.classList.remove("tabs__filter--active"),e.parentNode.classList.remove("show"))})),n.classList.add("tabs__btn--active");const c=s.querySelectorAll(`.tabs__panel[data-tab="${n.dataset.tab}"]`),l=s.querySelectorAll(`.tabs__filter[data-tab="${n.dataset.tab}"]`);c&&c.forEach((e=>{e.classList.add("tabs__panel--active")})),l&&l.forEach((e=>{e.classList.add("tabs__filter--active"),e.parentNode.classList.add("show")}))})),e.addEventListener("click",(t=>{const n=t.target.closest(".tabs__c_btn");if(!n||!e.contains(n))return;t.stopPropagation();const s=n.closest(".tabs");if(!s)return;const o=Array.from(s.querySelectorAll(".tabs__c_btn")),r=Array.from(s.querySelectorAll(".tabs__catalog"));o.forEach((e=>{e.closest(".tabs")===s&&e.classList.remove("tabs__c_btn--active")})),r.forEach((e=>{e.closest(".tabs")===s&&(t.stopPropagation(),e.classList.remove("tabs__catalog--active"))})),n.classList.add("tabs__c_btn--active");const a=s.querySelector(`.tabs__catalog[data-tab="${n.dataset.tab}"]`);a&&a.classList.add("tabs__catalog--active"),console.log(n.dataset.tab),"b2b"==n.dataset.tab?n.parentNode.parentNode.classList.add("filter__parent--active"):n.parentNode.parentNode.classList.remove("filter__parent--active")}))})),document.querySelector(".dropdown--js")&&document.querySelectorAll(".dropdown--js").forEach((e=>{function t(){let t=e.querySelector(".dropdown__value"),n=document.querySelector(".dropdown__radio:checked").parentElement.querySelector(".dropdown__label"),s=n.textContent,o=n.dataset.tab,r=e.querySelector(".dropdown__selected--js");r.querySelector("span").textContent=s,t.dataset.value=s,r.dataset.tab=o}function n(t,n,s){let o=s;void 0===o&&(o=!t.classList.contains(n),e.querySelector(".dropdown__selected--js").click()),o?t.classList.add(n):t.classList.remove(n)}let s=e.querySelectorAll(".dropdown__radio"),o=e;for(let e=0;e<s.length;++e){let r=s[e];r.addEventListener("change",(function(){t()})),r.addEventListener("click",(function(){n(o,"is-active",!1)}))}e.querySelector(".dropdown__selected--js").addEventListener("click",(function(){n(o,"is-active")}))})),$(window).on("resize load",(function(){const e=document.getElementById("header-phone");e&&(window.innerWidth<=520?e.innerHTML="Связаться":e.innerHTML=e.dataset.value);const t=document.getElementById("cookie-btn");t&&(window.innerWidth<=520?t.innerHTML="Ок":t.innerHTML="Принять");const n=document.querySelector(".product__head-download");n&&(window.innerWidth<=768?n.querySelector("span").innerHTML="Каталог продукции":n.querySelector("span").innerHTML=n.querySelector("span").dataset.value)}));const c=document.getElementById("made-link"),l=document.getElementById("roskachestvo"),i=document.querySelector(".product__head-download"),d=document.querySelector(".video__link"),m=document.querySelector(".news--main");c&&new TransferElements({sourceElement:c,breakpoints:{768:{targetElement:document.querySelector(".transfer-pos--1")}}}),l&&new TransferElements({sourceElement:l,breakpoints:{768:{targetElement:document.querySelector(".transfer-pos--2")}}}),i&&new TransferElements({sourceElement:i,breakpoints:{768:{targetElement:document.querySelector(".product__body")}}}),d&&new TransferElements({sourceElement:d,breakpoints:{768:{targetElement:document.querySelector(".about__content")}}}),m&&new TransferElements({sourceElement:m.querySelector(".news__head-btn"),breakpoints:{768:{targetElement:m.querySelector(".news__inner")}}});const u=new Lenis({anchors:{offset:100,onComplete:()=>{console.log("scrolled to anchor")}}});u.on("scroll",ScrollTrigger.update),gsap.ticker.add((e=>{u.raf(1e3*e)})),gsap.ticker.lagSmoothing(0),gsap.registerPlugin(ScrollTrigger),$(".video__link").fancybox({openEffect:"none",closeEffect:"none",helpers:{media:{}}}),document.querySelectorAll('[data-animation="parallax-img"]').forEach((e=>{const t=e.querySelector("img");gsap.fromTo(t,{y:"-7%"},{y:"7%",scrollTrigger:{trigger:e,start:"top 60%",end:"bottom top",scrub:!0}})}));const p=document.querySelector(".timeline-wrapper"),g=document.querySelectorAll(".timeline-item"),v=p.scrollWidth-window.innerWidth;if(gsap.timeline({scrollTrigger:{trigger:".history",start:"top 270px",endTrigger:".values",end:`+=${v}`,scrub:1,pin:!0,anticipatePin:1,onUpdate:e=>{const t=e.progress,n=Math.floor(t*(g.length-1));g.forEach((e=>e.classList.remove("swiper-slide-active"))),g[n]&&g[n].classList.add("swiper-slide-active")}}}).to(p,{x:-v,ease:"none"}),document.querySelector(".button-next")?.addEventListener("click",(()=>{const e=Math.abs(gsap.getProperty(p,"x")),t=Math.min(e+.8*window.innerWidth,v);gsap.to(p,{x:-t,duration:.5})})),document.querySelector(".button-prev")?.addEventListener("click",(()=>{const e=Math.abs(gsap.getProperty(p,"x")),t=Math.max(e-.8*window.innerWidth,0);gsap.to(p,{x:-t,duration:.5})})),"1"!==("; "+document.cookie).split("; COOKIE_ACCEPT=").pop().split(";")[0]){const _=document.getElementById("cookie");_&&(_.style.display="block")}}));