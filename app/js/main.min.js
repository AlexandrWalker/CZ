function checkCookies(){document.cookie="COOKIE_ACCEPT=1;path='/';expires:"+new Date((new Date).getTime()+31536e6).toUTCString(),document.getElementById("cookie").remove()}gsap.registerPlugin(ScrollTrigger),document.addEventListener("DOMContentLoaded",(()=>{new Swiper(".product__slider-init",{slidesPerView:2,spaceBetween:10,loop:!0,speed:600,mousewheel:{forceToAxis:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{521:{slidesPerView:2,spaceBetween:20},769:{slidesPerView:3,spaceBetween:30}}});var e=new Swiper(".values__thumbs-init",{spaceBetween:30,speed:600,loop:!0,watchSlidesProgress:!0,grabCursor:!1,mousewheel:!1,pagination:{el:".swiper-pagination",type:"fraction"},on:{touchEnd:function(e,t){let n=e.touches.diff=e.isHorizontal()?e.touches.currentX-e.touches.startX:e.touches.currentY-e.touches.startY;(n<5||n>-5)&&(e.allowClick=!0)}}}),t=new Swiper(".values__slider-init",{spaceBetween:30,speed:600,loop:!0,grabCursor:!0,mousewheel:{forceToAxis:!0},navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}});e.controller.control=t,t.controller.control=e;const n=new Lenis({anchors:{offset:100},duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),smoothWheel:!0});var i,s;!function(){const e=document.querySelectorAll(".work__item"),t=document.getElementsByClassName("work__item-active"),n=document.getElementsByClassName("re-prev"),i=document.getElementsByClassName("prev"),s=document.getElementsByClassName("next"),o=document.getElementsByClassName("re-next");e.forEach((r=>{r!==e[0]&&(r.addEventListener("mouseover",(function(){t.length>0&&t[0]!==this&&t[0].classList.remove("work__item-active"),n.length>0&&n[0].classList.remove("re-prev"),i.length>0&&i[0].classList.remove("prev"),s.length>0&&s[0].classList.remove("next"),o.length>0&&o[0].classList.remove("re-next"),this.classList.add("work__item-active");var e=this.previousElementSibling,r=this.nextElementSibling;this.previousElementSibling&&(this.previousElementSibling.classList.add("prev"),e.previousElementSibling&&e.previousElementSibling.classList.add("re-prev")),this.nextElementSibling&&(this.nextElementSibling.classList.add("next"),r.nextElementSibling&&r.nextElementSibling.classList.add("re-next"))})),r.addEventListener("mouseout",(function(){n.length>0&&n[0].classList.remove("re-prev"),i.length>0&&i[0].classList.remove("prev"),s.length>0&&s[0].classList.remove("next"),o.length>0&&o[0].classList.remove("re-next"),e[0].classList.add("work__item-active"),this.classList.remove("work__item-active"),e[0].nextElementSibling&&(e[0].nextElementSibling.classList.add("next"),e[1].nextElementSibling.classList.add("re-next"))})))}))}(),i=document.querySelectorAll(".accordion"),s=document.getElementsByClassName("active"),Array.from(i).forEach((function(e,t,n){e.addEventListener("click",(function(e){if(s.length>0&&s[0]!==this&&s[0].classList.remove("active"),this.classList.toggle("active"),console.log("ass"),document.getElementById("menu")){const e=document.getElementById("menu");e.querySelector(".active")?e.classList.add("menu-active"):e.classList.remove("menu-active")}}))})),function(){if(document.querySelector(".modal__btn")){var e=document.querySelectorAll(".modal__close-btn"),t=document.querySelectorAll(".modal__btn");Array.from(t,(t=>{t.addEventListener("click",(t=>{let n=document.getElementsByClassName("open");n.length>0&&n[0]!==this&&n[0].classList.remove("open");let i=t.target.getAttribute("data-id");i&&(document.getElementById(i).classList.add("open"),document.body.classList.add("no-scroll"),Array.from(e,(e=>{e.addEventListener("click",(e=>{document.getElementById(i).classList.remove("open"),document.body.classList.remove("no-scroll")})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&(document.getElementById(i).classList.remove("open"),document.body.classList.remove("no-scroll"))})),document.querySelector(".modal.open .modal__box").addEventListener("click",(e=>{e._isClickWithInModal=!0})),document.getElementById(i).addEventListener("click",(e=>{e._isClickWithInModal||(e.currentTarget.classList.remove("open"),document.body.classList.remove("no-scroll"))}))})))}))}))}}(),function(){const e=document.getElementById("burger"),t=document.getElementById("menu"),i=document.querySelector(".menu__close"),s=document.querySelector(".menu__overlay"),o=()=>{e.classList.remove("burger--opened"),t.classList.remove("menu--opened");const i=t.getElementsByClassName("active");i.length>0&&i[0]!==this&&i[0].classList.remove("active"),t.classList.remove("menu-active"),n.start()};e.addEventListener("click",(()=>{const i=e.classList.toggle("burger--opened");t.classList.toggle("menu--opened",i),n.stop()})),[i,s].forEach((e=>e.addEventListener("click",o))),document.addEventListener("click",(n=>{t.contains(n.target)||e.contains(n.target)||o()})),document.querySelectorAll(".menu__list a").forEach((e=>e.addEventListener("click",o)))}();const o=document.querySelector(".numbs");if(o){function r(e,t=2e3){let n=0;const i=Number(e.dataset.val);let s=setInterval((()=>{n<i?n+=i/(t/10):clearInterval(s),n<i?n+=i/(t/10):o.classList.add("active"),e.classList.contains("frac")?e.innerHTML=new Intl.NumberFormat("ru-RU").format(n.toFixed(1)):e.innerHTML=new Intl.NumberFormat("ru-RU").format(Math.round(n))}),10)}document.querySelectorAll(".numbs").forEach((e=>{e.querySelectorAll(".number").forEach((t=>{gsap.to(t,{scrollTrigger:{trigger:e,start:"top 80%"},onStart:()=>r(t)})}))}))}const l=document.getElementById("search__btn");l&&l.addEventListener("click",(function(){l.parentNode.classList.toggle("search--show"),window.addEventListener("keydown",(e=>{"Escape"===e.key&&l.parentNode.classList.remove("search--show")})),document.addEventListener("click",(e=>{e.composedPath().includes(l.parentNode)||l.parentNode.classList.remove("search--show")}))})),document.querySelectorAll(".tabs").forEach((e=>{e.addEventListener("click",(t=>{const n=t.target.closest(".tabs__btn");if(!n||!e.contains(n))return;t.stopPropagation();const i=n.closest(".tabs");if(!i)return;const s=Array.from(i.querySelectorAll(".tabs__btn")),o=Array.from(i.querySelectorAll(".tabs__panel")),r=Array.from(i.querySelectorAll(".tabs__filter"));s.forEach((e=>{e.closest(".tabs")===i&&e.classList.remove("tabs__btn--active")})),o.forEach((e=>{e.closest(".tabs")===i&&e.classList.remove("tabs__panel--active")})),r.forEach((e=>{e.closest(".tabs")===i&&(e.classList.remove("tabs__filter--active"),e.parentNode.classList.remove("show"))})),n.classList.add("tabs__btn--active");const l=i.querySelectorAll(`.tabs__panel[data-tab="${n.dataset.tab}"]`),a=i.querySelectorAll(`.tabs__filter[data-tab="${n.dataset.tab}"]`);l&&l.forEach((e=>{e.classList.add("tabs__panel--active")})),a&&a.forEach((e=>{e.classList.add("tabs__filter--active"),e.parentNode.classList.add("show")}))})),e.addEventListener("click",(t=>{const n=t.target.closest(".tabs__c_btn");if(!n||!e.contains(n))return;t.stopPropagation();const i=n.closest(".tabs");if(!i)return;const s=Array.from(i.querySelectorAll(".tabs__c_btn")),o=Array.from(i.querySelectorAll(".tabs__catalog"));s.forEach((e=>{e.closest(".tabs")===i&&e.classList.remove("tabs__c_btn--active")})),o.forEach((e=>{e.closest(".tabs")===i&&(t.stopPropagation(),e.classList.remove("tabs__catalog--active"))})),n.classList.add("tabs__c_btn--active");const r=i.querySelector(`.tabs__catalog[data-tab="${n.dataset.tab}"]`);r&&r.classList.add("tabs__catalog--active"),console.log(n.dataset.tab),"b2b"==n.dataset.tab?n.parentNode.parentNode.classList.add("filter__parent--active"):n.parentNode.parentNode.classList.remove("filter__parent--active")}))})),document.querySelector(".dropdown--js")&&document.querySelectorAll(".dropdown--js").forEach((e=>{function t(){let t=e.querySelector(".dropdown__value"),n=document.querySelector(".dropdown__radio:checked").parentElement.querySelector(".dropdown__label"),i=n.textContent,s=n.dataset.tab,o=e.querySelector(".dropdown__selected--js");o.querySelector("span").textContent=i,t.dataset.value=i,o.dataset.tab=s}function n(t,n,i){let s=i;void 0===s&&(s=!t.classList.contains(n),e.querySelector(".dropdown__selected--js").click()),s?t.classList.add(n):t.classList.remove(n)}let i=e.querySelectorAll(".dropdown__radio"),s=e;for(let e=0;e<i.length;++e){let o=i[e];o.addEventListener("change",(function(){t()})),o.addEventListener("click",(function(){n(s,"is-active",!1)}))}e.querySelector(".dropdown__selected--js").addEventListener("click",(function(){n(s,"is-active")}))})),$(window).on("resize load",(function(){const e=document.getElementById("header-phone");e&&(window.innerWidth<=520?e.innerHTML="Связаться":e.innerHTML=e.dataset.value);const t=document.getElementById("cookie-btn");t&&(window.innerWidth<=520?t.innerHTML="Ок":t.innerHTML="Принять");const n=document.querySelector(".product__head-download");n&&(window.innerWidth<=768?n.querySelector("span").innerHTML="Каталог продукции":n.querySelector("span").innerHTML=n.querySelector("span").dataset.value)}));const a=document.getElementById("made-link"),c=document.getElementById("roskachestvo"),d=document.querySelector(".product__head-download"),m=document.querySelector(".video__link"),u=document.querySelector(".news--main");a&&new TransferElements({sourceElement:a,breakpoints:{768:{targetElement:document.querySelector(".transfer-pos--1")}}}),c&&new TransferElements({sourceElement:c,breakpoints:{768:{targetElement:document.querySelector(".transfer-pos--2")}}}),d&&new TransferElements({sourceElement:d,breakpoints:{768:{targetElement:document.querySelector(".product__body")}}}),m&&new TransferElements({sourceElement:m,breakpoints:{768:{targetElement:document.querySelector(".about__content")}}}),u&&new TransferElements({sourceElement:u.querySelector(".news__head-btn"),breakpoints:{768:{targetElement:u.querySelector(".news__inner")}}}),$(".video__link").fancybox({openEffect:"none",closeEffect:"none",helpers:{media:{}}}),document.querySelectorAll('[data-animation="parallax-img"]').forEach((e=>{const t=e.querySelector("img");gsap.fromTo(t,{y:"-7%"},{y:"7%",scrollTrigger:{trigger:e,start:"top 60%",end:"bottom top",scrub:!0}})}));const h={defaultConfig:{breakpoint:768,selectors:{placeholder:".timeline-placeholder",container:".timeline-container",timeline:".timeline",wrapper:".timeline-wrapper",items:".timeline-item",btnPrev:".timeline-button-prev",btnNext:".timeline-button-next"}},init(e=".timeline-placeholder",t={}){return this.config={...this.defaultConfig,selectors:{...this.defaultConfig.selectors,...t}},this.state={rootElement:null,timelinePlaceholder:null,timelineContainer:null,timeline:null,timelineWrapper:null,timelineItems:null,btnPrev:null,btnNext:null,itemWidth:0,containerWidth:0,totalWidth:0,maxScroll:0,placeholderHeight:0,containerHeight:0,scrollDistance:0,timelineProgress:0,currentIndex:0,isAnimating:!1,startX:0,startY:0,currentX:0,isDragging:!1,startScroll:0,xSwipe:!1,scrollTimeout:null,isScrolling:!1,buttonHoldInterval:null,buttonHoldDirection:null,buttonHoldDelay:300,buttonHoldSpeed:100,initialButtonPress:!0},this.setRootElement(e),this.cacheElements(),this.calculatePlaceholderHeight(),this.bindEvents(),this.updateButtons(),this.updateActiveItem(0),this},setRootElement(e){const t="string"==typeof e?document.querySelector(e):e;t||console.warn(`TimelineScroll: Root element not found with selector "${e}"`),this.state.rootElement=t},destroy(){window.removeEventListener("resize",this.onResize.bind(this)),this.stopButtonHold()},next(){this.goToIndex(this.state.currentIndex+1)},prev(){this.goToIndex(this.state.currentIndex-1)},goTo(e){this.goToIndex(e)},getCurrentIndex(){return this.state.currentIndex},startButtonHold(e){const t=this.state;t.buttonHoldInterval&&clearInterval(t.buttonHoldInterval),t.buttonHoldDirection=e,t.initialButtonPress=!0,"next"===e?this.next():this.prev(),t.buttonHoldInterval=setTimeout((()=>{t.initialButtonPress=!1,t.buttonHoldInterval=setInterval((()=>{"next"===t.buttonHoldDirection?this.next():this.prev()}),t.buttonHoldSpeed)}),t.buttonHoldDelay)},stopButtonHold(){const e=this.state;e.buttonHoldInterval&&(clearTimeout(e.buttonHoldInterval),clearInterval(e.buttonHoldInterval),e.buttonHoldInterval=null,e.buttonHoldDirection=null)},cacheElements(){const e=this.state,t=this.config.selectors;e.timelinePlaceholder=e.rootElement,e.timelineContainer=this.findElement(t.container),e.timeline=this.findElement(t.timeline),e.timelineWrapper=this.findElement(t.wrapper),e.timelineItems=this.findElement(t.items,!0),e.btnPrev=this.findElement(t.btnPrev),e.btnNext=this.findElement(t.btnNext),this.validateRequiredElements()},findElement(e,t=!1){return t?this.state.rootElement.querySelectorAll(e):this.state.rootElement.querySelector(e)},validateRequiredElements(){const e=this.state;[{element:e.timelineContainer,name:"container"},{element:e.timeline,name:"timeline"},{element:e.timelineWrapper,name:"wrapper"},{element:e.timelineItems,name:"items"}].forEach((({element:e,name:t})=>{(!e||Array.isArray(e)&&0===e.length)&&console.warn(`TimelineScroll: Required element "${t}" not found with selector "${this.config.selectors[t]}"`)}))},isMobileDevice(){return window.innerWidth<=this.config.breakpoint},calculatePlaceholderHeight(){const e=this.state;this.isMobileDevice()?e.timelinePlaceholder.style.height="auto":(e.containerHeight=e.timelineContainer.offsetHeight,e.itemWidth=e.timelineItems[0].offsetWidth,e.containerWidth=e.timeline.offsetWidth,e.totalWidth=e.itemWidth*e.timelineItems.length,e.maxScroll=Math.max(0,e.totalWidth-e.containerWidth),e.scrollDistance=e.maxScroll,e.placeholderHeight=e.containerHeight+e.scrollDistance,e.timelinePlaceholder.style.height=`${e.placeholderHeight}px`)},updateButtons(){const e=this.state;!this.isMobileDevice()&&e.btnPrev&&e.btnNext&&(e.btnPrev.disabled=0===e.currentIndex,e.btnNext.disabled=e.currentIndex===e.timelineItems.length-1)},goToIndex(e){if(this.isMobileDevice())return this.goToIndexMobile(e);const t=this.state;if(t.isAnimating)return;if((e=Math.max(0,Math.min(e,t.timelineItems.length-1)))===t.currentIndex)return;t.isAnimating=!0;const i=e/(t.timelineItems.length-1),s=t.timelinePlaceholder.offsetTop+i*t.scrollDistance;n.scrollTo(s,{duration:.4,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),onComplete:()=>{t.isAnimating=!1}})},goToIndexMobile(e){const t=this.state;e=Math.max(0,Math.min(e,t.timelineItems.length-1));const n=t.timelineItems[e],i=n.offsetLeft,s=n.offsetWidth,o=i-t.timeline.offsetWidth/2+s/2;t.timeline.scrollTo({left:o,behavior:"smooth"}),this.updateActiveItemMobile(e)},updateTimeline(e){const t=this.state;if(this.isMobileDevice())return;const n=t.timelinePlaceholder.offsetTop;let i=(e-n)/t.scrollDistance;if(i=Math.max(0,Math.min(1,i)),e>=n&&e<=n+t.scrollDistance){t.timelineProgress=i;const e=-t.timelineProgress*t.maxScroll;t.timelineWrapper.style.transform=`translateX(${e}px)`,this.updateActiveItem(t.timelineProgress)}else e<n?(t.timelineProgress=0,t.timelineWrapper.style.transform="translateX(0px)",this.updateActiveItem(0)):e>n+t.scrollDistance&&(t.timelineProgress=1,t.timelineWrapper.style.transform=`translateX(${-t.maxScroll}px)`,this.updateActiveItem(1))},updateActiveItem(e){const t=this.state,n=t.timelineItems.length-1,i=Math.min(n,Math.round(e*n));i!==t.currentIndex&&(t.currentIndex=i,t.timelineItems.forEach(((e,n)=>{e.classList.toggle("timeline-active",n===t.currentIndex)})),this.updateButtons())},updateActiveItemMobile(e){const t=this.state;e!==t.currentIndex&&(t.currentIndex=e,t.timelineItems.forEach(((e,n)=>{e.classList.toggle("timeline-active",n===t.currentIndex)})))},handleMobileScroll(){const e=this.state;if(!this.isMobileDevice())return;clearTimeout(e.scrollTimeout),e.isScrolling=!0;const t=e.timeline.scrollLeft,n=e.timeline.offsetWidth,i=e.timelineItems[0].offsetWidth,s=t+n/2;let o=0,r=1/0;e.timelineItems.forEach(((e,t)=>{const n=e.offsetLeft+i/2,l=Math.abs(s-n);l<r&&(r=l,o=t)})),this.updateActiveItemMobile(o),e.scrollTimeout=setTimeout((()=>{e.isScrolling=!1,e.isScrolling||this.goToIndex(o)}),100)},handleTouchStart(e){const t=this.state;t.isAnimating||(t.startX="touchstart"===e.type?e.touches[0].clientX:e.clientX,t.startY="touchstart"===e.type?e.touches[0].clientY:e.clientY,t.currentX=parseInt(getComputedStyle(t.timelineWrapper).transform.split(",")[4]||0,10),t.startScroll=n.scroll,t.isDragging=!0,t.xSwipe=!1,t.timelineWrapper.classList.add("grabbing"))},handleTouchMove(e){const t=this.state;if(!t.isDragging)return;e.preventDefault();const i="touchmove"===e.type?e.touches[0].clientX:e.clientX,s="touchmove"===e.type?e.touches[0].clientY:e.clientY;if(!t.xSwipe){const n=Math.abs(i-t.startX),o=Math.abs(s-t.startY);if(o>n&&o>10)return t.isDragging=!1,void t.timelineWrapper.classList.remove("grabbing");n>10&&(t.xSwipe=!0,e.preventDefault())}if(t.xSwipe){const e=i-t.startX;let s=t.currentX+e;s=Math.min(Math.max(s,-t.maxScroll),0),t.timelineWrapper.style.transform=`translateX(${s}px)`,n.scrollTo(t.startScroll,{immediate:!0})}},handleTouchEnd(e){const t=this.state;if(!t.isDragging)return;t.isDragging=!1,t.timelineWrapper.classList.remove("grabbing");const n=("touchend"===e.type?e.changedTouches?e.changedTouches[0].clientX:0:e.clientX)-t.startX,i=n/100;Math.abs(n)>50||Math.abs(i)>.5?n>0?this.goToIndex(t.currentIndex-1):this.goToIndex(t.currentIndex+1):this.goToIndex(t.currentIndex)},onLenisScroll({scroll:e}){this.state.isDragging||this.updateTimeline(e)},onResize(){this.calculatePlaceholderHeight(),this.updateTimeline(n.scroll),this.updateButtons()},bindEvents(){const e=this.state;e.btnPrev&&(e.btnPrev.addEventListener("click",(()=>{this.goToIndex(e.currentIndex-1)})),e.btnPrev.addEventListener("mousedown",(()=>{this.startButtonHold("prev")})),e.btnPrev.addEventListener("touchstart",(()=>{this.startButtonHold("prev")})),e.btnPrev.addEventListener("mouseup",(()=>{this.stopButtonHold()})),e.btnPrev.addEventListener("touchend",(()=>{this.stopButtonHold()})),e.btnPrev.addEventListener("mouseleave",(()=>{this.stopButtonHold()}))),e.btnNext&&(e.btnNext.addEventListener("click",(()=>{this.goToIndex(e.currentIndex+1)})),e.btnNext.addEventListener("mousedown",(()=>{this.startButtonHold("next")})),e.btnNext.addEventListener("touchstart",(()=>{this.startButtonHold("next")})),e.btnNext.addEventListener("mouseup",(()=>{this.stopButtonHold()})),e.btnNext.addEventListener("touchend",(()=>{this.stopButtonHold()})),e.btnNext.addEventListener("mouseleave",(()=>{this.stopButtonHold()}))),document.addEventListener("mouseup",(()=>{this.stopButtonHold()})),document.addEventListener("touchend",(()=>{this.stopButtonHold()})),this.isMobileDevice()||(e.timelineWrapper.addEventListener("touchstart",this.handleTouchStart.bind(this),{passive:!1}),e.timelineWrapper.addEventListener("mousedown",this.handleTouchStart.bind(this)),e.timelineWrapper.addEventListener("touchmove",this.handleTouchMove.bind(this),{passive:!1}),e.timelineWrapper.addEventListener("mousemove",this.handleTouchMove.bind(this)),e.timelineWrapper.addEventListener("touchend",this.handleTouchEnd.bind(this)),e.timelineWrapper.addEventListener("mouseup",this.handleTouchEnd.bind(this)),e.timelineWrapper.addEventListener("mouseleave",this.handleTouchEnd.bind(this))),e.timeline.addEventListener("scroll",this.handleMobileScroll.bind(this)),n.on("scroll",this.onLenisScroll.bind(this)),window.addEventListener("resize",this.onResize.bind(this))},create:function(e=".timeline-placeholder",t={}){return Object.create(this).init(e,t)}};requestAnimationFrame((function e(t){n.raf(t),requestAnimationFrame(e)})),document.getElementById("timelinePlaceholder")&&h.create("#timelinePlaceholder"),document.querySelector(".about-page")&&document.documentElement.classList.add("about-page")}));