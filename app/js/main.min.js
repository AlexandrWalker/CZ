function checkCookies(){document.cookie="COOKIE_ACCEPT=1;path='/';expires:"+new Date((new Date).getTime()+31536e6).toUTCString(),document.getElementById("cookie").remove()}gsap.registerPlugin(ScrollTrigger),document.addEventListener("DOMContentLoaded",(()=>{new Swiper(".product__slider-init",{slidesPerView:2,spaceBetween:10,loop:!0,speed:600,mousewheel:{forceToAxis:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{521:{slidesPerView:2,spaceBetween:20},769:{slidesPerView:3,spaceBetween:30}}});var e=new Swiper(".values__thumbs-init",{spaceBetween:30,speed:600,loop:!0,watchSlidesProgress:!0,grabCursor:!1,mousewheel:!1,pagination:{el:".swiper-pagination",type:"fraction"},on:{touchEnd:function(e,t){let n=e.touches.diff=e.isHorizontal()?e.touches.currentX-e.touches.startX:e.touches.currentY-e.touches.startY;(n<5||n>-5)&&(e.allowClick=!0)}}}),t=new Swiper(".values__slider-init",{spaceBetween:30,speed:600,loop:!0,grabCursor:!0,mousewheel:{forceToAxis:!0},navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}});e.controller.control=t,t.controller.control=e;const n=new Lenis({anchors:{offset:100,onComplete:()=>{console.log("scrolled to anchor")}}});var o,s;n.on("scroll",ScrollTrigger.update),gsap.ticker.add((e=>{n.raf(1e3*e)})),gsap.ticker.lagSmoothing(0),function(){const e=document.querySelectorAll(".work__item"),t=document.getElementsByClassName("work__item-active"),n=document.getElementsByClassName("re-prev"),o=document.getElementsByClassName("prev"),s=document.getElementsByClassName("next"),r=document.getElementsByClassName("re-next");e.forEach((a=>{a!==e[0]&&(a.addEventListener("mouseover",(function(){t.length>0&&t[0]!==this&&t[0].classList.remove("work__item-active"),n.length>0&&n[0].classList.remove("re-prev"),o.length>0&&o[0].classList.remove("prev"),s.length>0&&s[0].classList.remove("next"),r.length>0&&r[0].classList.remove("re-next"),this.classList.add("work__item-active");var e=this.previousElementSibling,a=this.nextElementSibling;this.previousElementSibling&&(this.previousElementSibling.classList.add("prev"),e.previousElementSibling&&e.previousElementSibling.classList.add("re-prev")),this.nextElementSibling&&(this.nextElementSibling.classList.add("next"),a.nextElementSibling&&a.nextElementSibling.classList.add("re-next"))})),a.addEventListener("mouseout",(function(){n.length>0&&n[0].classList.remove("re-prev"),o.length>0&&o[0].classList.remove("prev"),s.length>0&&s[0].classList.remove("next"),r.length>0&&r[0].classList.remove("re-next"),e[0].classList.add("work__item-active"),this.classList.remove("work__item-active"),e[0].nextElementSibling&&(e[0].nextElementSibling.classList.add("next"),e[1].nextElementSibling.classList.add("re-next"))})))}))}(),o=document.querySelectorAll(".accordion"),s=document.getElementsByClassName("active"),Array.from(o).forEach((function(e,t,n){e.addEventListener("click",(function(e){if(s.length>0&&s[0]!==this&&s[0].classList.remove("active"),this.classList.toggle("active"),console.log("ass"),document.getElementById("menu")){const e=document.getElementById("menu");e.querySelector(".active")?e.classList.add("menu-active"):e.classList.remove("menu-active")}}))})),function(){if(document.querySelector(".modal__btn")){var e=document.querySelectorAll(".modal__close-btn"),t=document.querySelectorAll(".modal__btn");Array.from(t,(t=>{t.addEventListener("click",(t=>{let n=document.getElementsByClassName("open");n.length>0&&n[0]!==this&&n[0].classList.remove("open");let o=t.target.getAttribute("data-id");o&&(document.getElementById(o).classList.add("open"),document.body.classList.add("no-scroll"),Array.from(e,(e=>{e.addEventListener("click",(e=>{document.getElementById(o).classList.remove("open"),document.body.classList.remove("no-scroll")})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&(document.getElementById(o).classList.remove("open"),document.body.classList.remove("no-scroll"))})),document.querySelector(".modal.open .modal__box").addEventListener("click",(e=>{e._isClickWithInModal=!0})),document.getElementById(o).addEventListener("click",(e=>{e._isClickWithInModal||(e.currentTarget.classList.remove("open"),document.body.classList.remove("no-scroll"))}))})))}))}))}}(),function(){const e=document.getElementById("burger"),t=document.getElementById("menu"),o=document.querySelector(".menu__close"),s=document.querySelector(".menu__overlay"),r=()=>{e.classList.remove("burger--opened"),t.classList.remove("menu--opened");const o=t.getElementsByClassName("active");o.length>0&&o[0]!==this&&o[0].classList.remove("active"),t.classList.remove("menu-active"),n.start()};e.addEventListener("click",(()=>{const o=e.classList.toggle("burger--opened");t.classList.toggle("menu--opened",o),n.stop()})),[o,s].forEach((e=>e.addEventListener("click",r))),document.addEventListener("click",(n=>{t.contains(n.target)||e.contains(n.target)||r()})),document.querySelectorAll(".menu__list a").forEach((e=>e.addEventListener("click",r)))}();const r=document.querySelector(".numbs");if(r){function a(e,t=2e3){let n=0;const o=Number(e.dataset.val);let s=setInterval((()=>{n<o?n+=o/(t/10):clearInterval(s),n<o?n+=o/(t/10):r.classList.add("active"),e.classList.contains("frac")?e.innerHTML=new Intl.NumberFormat("ru-RU").format(n.toFixed(1)):e.innerHTML=new Intl.NumberFormat("ru-RU").format(Math.round(n))}),10)}document.querySelectorAll(".numbs").forEach((e=>{e.querySelectorAll(".number").forEach((t=>{gsap.to(t,{scrollTrigger:{trigger:e,start:"top 80%"},onStart:()=>a(t)})}))}))}const c=document.getElementById("search__btn");c&&c.addEventListener("click",(function(){c.parentNode.classList.toggle("search--show"),window.addEventListener("keydown",(e=>{"Escape"===e.key&&c.parentNode.classList.remove("search--show")})),document.addEventListener("click",(e=>{e.composedPath().includes(c.parentNode)||c.parentNode.classList.remove("search--show")}))})),document.querySelectorAll(".tabs").forEach((e=>{e.addEventListener("click",(t=>{const n=t.target.closest(".tabs__btn");if(!n||!e.contains(n))return;t.stopPropagation();const o=n.closest(".tabs");if(!o)return;const s=Array.from(o.querySelectorAll(".tabs__btn")),r=Array.from(o.querySelectorAll(".tabs__panel")),a=Array.from(o.querySelectorAll(".tabs__filter"));s.forEach((e=>{e.closest(".tabs")===o&&e.classList.remove("tabs__btn--active")})),r.forEach((e=>{e.closest(".tabs")===o&&e.classList.remove("tabs__panel--active")})),a.forEach((e=>{e.closest(".tabs")===o&&(e.classList.remove("tabs__filter--active"),e.parentNode.classList.remove("show"))})),n.classList.add("tabs__btn--active");const c=o.querySelectorAll(`.tabs__panel[data-tab="${n.dataset.tab}"]`),l=o.querySelectorAll(`.tabs__filter[data-tab="${n.dataset.tab}"]`);c&&c.forEach((e=>{e.classList.add("tabs__panel--active")})),l&&l.forEach((e=>{e.classList.add("tabs__filter--active"),e.parentNode.classList.add("show")}))})),e.addEventListener("click",(t=>{const n=t.target.closest(".tabs__c_btn");if(!n||!e.contains(n))return;t.stopPropagation();const o=n.closest(".tabs");if(!o)return;const s=Array.from(o.querySelectorAll(".tabs__c_btn")),r=Array.from(o.querySelectorAll(".tabs__catalog"));s.forEach((e=>{e.closest(".tabs")===o&&e.classList.remove("tabs__c_btn--active")})),r.forEach((e=>{e.closest(".tabs")===o&&(t.stopPropagation(),e.classList.remove("tabs__catalog--active"))})),n.classList.add("tabs__c_btn--active");const a=o.querySelector(`.tabs__catalog[data-tab="${n.dataset.tab}"]`);a&&a.classList.add("tabs__catalog--active"),console.log(n.dataset.tab),"b2b"==n.dataset.tab?n.parentNode.parentNode.classList.add("filter__parent--active"):n.parentNode.parentNode.classList.remove("filter__parent--active")}))})),document.querySelector(".dropdown--js")&&document.querySelectorAll(".dropdown--js").forEach((e=>{function t(){let t=e.querySelector(".dropdown__value"),n=document.querySelector(".dropdown__radio:checked").parentElement.querySelector(".dropdown__label"),o=n.textContent,s=n.dataset.tab,r=e.querySelector(".dropdown__selected--js");r.querySelector("span").textContent=o,t.dataset.value=o,r.dataset.tab=s}function n(t,n,o){let s=o;void 0===s&&(s=!t.classList.contains(n),e.querySelector(".dropdown__selected--js").click()),s?t.classList.add(n):t.classList.remove(n)}let o=e.querySelectorAll(".dropdown__radio"),s=e;for(let e=0;e<o.length;++e){let r=o[e];r.addEventListener("change",(function(){t()})),r.addEventListener("click",(function(){n(s,"is-active",!1)}))}e.querySelector(".dropdown__selected--js").addEventListener("click",(function(){n(s,"is-active")}))})),$(window).on("resize load",(function(){const e=document.getElementById("header-phone");e&&(window.innerWidth<=520?e.innerHTML="Связаться":e.innerHTML=e.dataset.value);const t=document.getElementById("cookie-btn");t&&(window.innerWidth<=520?t.innerHTML="Ок":t.innerHTML="Принять");const n=document.querySelector(".product__head-download");n&&(window.innerWidth<=768?n.querySelector("span").innerHTML="Каталог продукции":n.querySelector("span").innerHTML=n.querySelector("span").dataset.value)}));const l=document.getElementById("made-link"),i=document.getElementById("roskachestvo"),d=document.querySelector(".product__head-download"),m=document.querySelector(".video__link"),u=document.querySelector(".news--main");if(l&&new TransferElements({sourceElement:l,breakpoints:{768:{targetElement:document.querySelector(".transfer-pos--1")}}}),i&&new TransferElements({sourceElement:i,breakpoints:{768:{targetElement:document.querySelector(".transfer-pos--2")}}}),d&&new TransferElements({sourceElement:d,breakpoints:{768:{targetElement:document.querySelector(".product__body")}}}),m&&new TransferElements({sourceElement:m,breakpoints:{768:{targetElement:document.querySelector(".about__content")}}}),u&&new TransferElements({sourceElement:u.querySelector(".news__head-btn"),breakpoints:{768:{targetElement:u.querySelector(".news__inner")}}}),$(".video__link").fancybox({openEffect:"none",closeEffect:"none",helpers:{media:{}}}),document.querySelectorAll('[data-animation="parallax-img"]').forEach((e=>{const t=e.querySelector("img");gsap.fromTo(t,{y:"-7%"},{y:"7%",scrollTrigger:{trigger:e,start:"top 60%",end:"bottom top",scrub:!0}})})),document.querySelector(".timeline")){const p=document.querySelector(".timeline-wrapper"),g=document.querySelectorAll(".timeline-item"),v=p.scrollWidth-window.innerWidth;if(gsap.timeline({scrollTrigger:{trigger:".history",start:"top 270px",endTrigger:".values",end:`+=${v}`,scrub:1,pin:!0,anticipatePin:1,onUpdate:e=>{const t=e.progress,n=Math.floor(t*(g.length-1));g.forEach((e=>e.classList.remove("swiper-slide-active"))),g[n]&&g[n].classList.add("swiper-slide-active")}}}).to(p,{x:-v,ease:"none"}),document.querySelector(".button-next")?.addEventListener("click",(()=>{const e=Math.abs(gsap.getProperty(p,"x")),t=Math.min(e+.8*window.innerWidth,v);gsap.to(p,{x:-t,duration:.5})})),document.querySelector(".button-prev")?.addEventListener("click",(()=>{const e=Math.abs(gsap.getProperty(p,"x")),t=Math.max(e-.8*window.innerWidth,0);gsap.to(p,{x:-t,duration:.5})})),"1"!==("; "+document.cookie).split("; COOKIE_ACCEPT=").pop().split(";")[0]){const _=document.getElementById("cookie");_&&(_.style.display="block")}}}));